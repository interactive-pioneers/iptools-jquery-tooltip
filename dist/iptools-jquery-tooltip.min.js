/*! iptools-jquery-tooltip - v0.0.4 - 2015-06-29
* https://github.com/interactive-pioneers/iptools-jquery-tooltip
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a,b){"use strict";function c(b,c){this.element=a(b),this.settings=a.extend({},e,c),this._defaults=e,this._name=d,this.tooltipText=this.element.attr(this.settings.dataAttrTooltipText),this.element.css({"white-space":"nowrap"}),0===a("#"+this.settings.tooltipID).length&&a("<div/>",{id:this.settings.tooltipID,"class":this.settings.tooltipClass}).appendTo("body"),this.tooltip=a("#"+this.settings.tooltipID),this.active=!1,this.resizeTimeout=null,this.addEventListeners()}var d="iptTooltip",e={margin:5,maxWidth:264,tooltipClass:"tooltip",tooltipClassActiveModifier:"--active",tooltipID:"js_tooltip",dataAttrTooltipText:"data-tooltip-text"};c.prototype={setDimensions:function(){this.tooltip.css({top:"auto",left:"auto","max-width":this.settings.maxWidth});var c=a(b).width(),d=this.tooltip.outerWidth(),e=this.tooltip.outerHeight(),f=this.element.outerWidth(),g=this.element.outerHeight(),h=this.element.offset(),i=h.left,j=h.top;d>c&&(d=c,this.tooltip.css("max-width",c));var k="top",l="right",m=i+f+this.settings.margin,n=j-e-this.settings.margin;m+d>c&&(m=i-d-this.settings.margin,l="left"),0>m&&(m=i+.5*(f-d),l="center"),(0>m||m+d>c)&&(m=.5*(c-d),l="center"),n<a(b).scrollTop()&&(n=j+g+this.settings.margin,k="bottom"),this.tooltip.css({left:m,top:n}).removeClass("tooltip--top-right").removeClass("tooltip--top-center").removeClass("tooltip--top-left").removeClass("tooltip--bottom-right").removeClass("tooltip--bottom-center").removeClass("tooltip--bottom-left").addClass(this.settings.tooltipClass+"--"+k+"-"+l)},show:function(a){var b=a.data;b.tooltip.addClass(b.settings.tooltipClass+b.settings.tooltipClassActiveModifier),b.active=!0},hide:function(a){var b=a.data;b.tooltip.removeClass(b.settings.tooltipClass+b.settings.tooltipClassActiveModifier),b.active=!1},handleMouseEnter:function(a){var b=a.data,c=b.tooltipText;c&&""!==c&&(b.tooltip.html(c),b.setDimensions(),b.show(a))},handleResize:function(a){var b=a.data;clearTimeout(b.resizeTimeout),b.resizeTimeout=setTimeout(function(){b.setDimensions()},250)},addEventListeners:function(){this.element.on("mouseenter."+this._name,null,this,this.handleMouseEnter).on("mouseleave."+this._name,null,this,this.hide),this.tooltip.off("click."+this._name).on("click."+this._name,null,this,this.hide),a(b).off("resize."+this._name).on("resize."+this._name,null,this,this.handleResize)},destroy:function(){this.element.off("mouseenter."+this._name),this.element.removeData("plugin_"+d)}},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window);