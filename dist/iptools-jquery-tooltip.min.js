/*! iptools-jquery-tooltip - v0.0.2 - 2015-06-02
* https://github.com/interactive-pioneers/iptools-jquery-tooltip
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a,b){"use strict";function c(b,c){this.element=a(b),this.settings=a.extend({},e,c),this._defaults=e,this._name=d,this.tooltipText=this.element.attr("data-tooltip-text"),this.element.css({"white-space":"nowrap"}),0===a("#"+f).length&&a('<div id="'+f+'" class="tooltip"></div>').appendTo("body"),this.tooltip=a("#"+f),this.addEventHandlers()}var d="iptTooltip",e={margin:5,maxWidth:264},f="js_tooltip";c.prototype={setDimensions:function(c){var d=c.data;d.tooltip.css({top:"auto",left:"auto","max-width":d.settings.maxWidth});var e=a(b).width(),f=d.tooltip.outerWidth(),g=d.tooltip.outerHeight(),h=d.element.outerWidth(),i=d.element.outerHeight(),j=d.element[0].offsetLeft,k=d.element[0].offsetTop;f>e&&(f=e,d.tooltip.css("max-width",e));var l="top",m="right",n=j+h+d.settings.margin,o=k-g-d.settings.margin;n+f>e&&(n=j-f-d.settings.margin,m="left"),0>n&&(n=j+.5*(h-f),m="center"),(0>n||n+f>e)&&(n=.5*(e-f),m="center"),0>o&&(o=k+i+d.settings.margin,l="bottom"),d.tooltip.css({left:n,top:o}).removeClass("tooltip--top-right tooltip--top-center tooltip--top-left tooltip--bottom-right tooltip--bottom-center tooltip--bottom-left").addClass("tooltip--"+l+"-"+m)},show:function(a){var b=a.data;b.tooltip.addClass("tooltip--active")},hide:function(a){var b=a.data;b.tooltip.removeClass("tooltip--active")},handleMouseEnter:function(a){var b=a.data,c=b.tooltipText;c&&""!==c&&(b.tooltip.html(c),b.setDimensions(a),b.show(a))},addEventHandlers:function(){this.element.on("mouseenter",null,this,this.handleMouseEnter).on("mouseleave",null,this,this.hide),this.tooltip.off("click.tooltip").on("click.tooltip",null,this,this.hide),a(b).off("resize.tooltip").on("resize.tooltip",null,this,this.setDimensions)}},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window);