/*! iptools-jquery-tooltip - v0.0.4 - 2015-06-29
* https://github.com/interactive-pioneers/iptools-jquery-tooltip
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a,b){"use strict";function c(b,c){this.element=a(b),this.settings=a.extend({},e,c),this._defaults=e,this._name=d,this.tooltipText=this.element.attr(this.settings.dataAttrTooltipText),this.element.css({"white-space":"nowrap"}),0===a("#"+this.settings.tooltipID).length&&a("<div/>",{id:this.settings.tooltipID,"class":this.settings.tooltipClass}).appendTo("body"),this.tooltip=a("#"+this.settings.tooltipID),this.active=!1,this.resizeTimeout=null,this.addEventListeners()}var d="iptTooltip",e={margin:5,maxWidth:264,tooltipClass:"tooltip",tooltipClassActiveModifier:"--active",tooltipID:"js_tooltip",dataAttrTooltipText:"data-tooltip-text"};c.prototype={setDimensions:function(c){var d=c.data;d.tooltip.css({top:"auto",left:"auto","max-width":d.settings.maxWidth});var e=a(b).width(),f=d.tooltip.outerWidth(),g=d.tooltip.outerHeight(),h=d.element.outerWidth(),i=d.element.outerHeight(),j=d.element.offset(),k=j.left,l=j.top;f>e&&(f=e,d.tooltip.css("max-width",e));var m="top",n="right",o=k+h+d.settings.margin,p=l-g-d.settings.margin;o+f>e&&(o=k-f-d.settings.margin,n="left"),0>o&&(o=k+.5*(h-f),n="center"),(0>o||o+f>e)&&(o=.5*(e-f),n="center"),g>p&&(p=l+i+d.settings.margin,m="bottom"),d.tooltip.css({left:o,top:p}).removeClass("tooltip--top-right").removeClass("tooltip--top-center").removeClass("tooltip--top-left").removeClass("tooltip--bottom-right").removeClass("tooltip--bottom-center").removeClass("tooltip--bottom-left").addClass(d.settings.tooltipClass+"--"+m+"-"+n)},show:function(a){var b=a.data;b.tooltip.addClass(b.settings.tooltipClass+b.settings.tooltipClassActiveModifier),b.active=!0},hide:function(a){var b=a.data;b.tooltip.removeClass(b.settings.tooltipClass+b.settings.tooltipClassActiveModifier),b.active=!1},handleMouseEnter:function(a){var b=a.data,c=b.tooltipText;c&&""!==c&&(b.tooltip.html(c),b.setDimensions(a),b.show(a))},handleResize:function(a){var b=a.data;b.active&&(clearTimeout(b.resizeTimeout),b.resizeTimeout=setTimeout(b.setDimensions,250))},addEventListeners:function(){this.element.on("mouseenter."+this._name,null,this,this.handleMouseEnter).on("mouseleave."+this._name,null,this,this.hide),this.tooltip.off("click."+this._name).on("click."+this._name,null,this,this.hide),a(b).off("resize."+this._name).on("resize."+this._name,null,this,this.setDimensions)},destroy:function(){this.element.off("mouseenter."+this._name),this.element.removeData("plugin_"+d)}},a.fn[d]=function(b){return this.each(function(){a.data(this,"plugin_"+d)||a.data(this,"plugin_"+d,new c(this,b))})}}(jQuery,window);